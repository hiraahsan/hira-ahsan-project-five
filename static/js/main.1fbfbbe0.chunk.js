(this["webpackJsonphira-ahsan-project-five"]=this["webpackJsonphira-ahsan-project-five"]||[]).push([[0],{24:function(e,a,t){e.exports=t(50)},29:function(e,a,t){},33:function(e,a,t){},50:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(23),i=t.n(l),s=(t(29),t(3)),o=t(4),c=t(6),m=t(5),d=t(7),h=t(2),u=t.n(h);t(31);u.a.initializeApp({apiKey:"AIzaSyAyf12FdGTgypQ0Ae48KszC61cViIsSRAU",authDomain:"project-five-tests.firebaseapp.com",databaseURL:"https://project-five-tests.firebaseio.com",projectId:"project-five-tests",storageBucket:"project-five-tests.appspot.com",messagingSenderId:"909191868794",appId:"1:909191868794:web:1046029a4765b1b69566c3"});var f=u.a,p=(t(33),t(9)),g=t.n(p),b=function(e){return r.a.createElement("div",{className:"miniContainers"},r.a.createElement("input",{alt:e.alt,type:"radio",name:"radio",id:e.indexKey,value:e.previewImg,onChange:function(){return e.appendImages(e.handleChange)}}),r.a.createElement("label",{htmlFor:e.indexKey},r.a.createElement("img",{src:e.previewImg,alt:e.alt})),r.a.createElement("a",{href:e.linkToPage},"Link to full size"))},E=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"storedImageSection"},r.a.createElement("img",{alt:"",id:e.id,src:e.storedImg})))},v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"storyContainer"},r.a.createElement("p",{id:e.storedTextId},e.storedText)))},y=function(e){return r.a.createElement("form",{className:"searchForm",onSubmit:e.handleSubmitSearch},r.a.createElement("input",{onChange:e.handleSearchImages,type:"text",placeholder:"Enter search term here",value:e.inputToSearch}),r.a.createElement("button",{onSubmit:e.handleSubmitSearch,type:"submit"},"Search for images"))},S=function(e){return r.a.createElement("details",null,r.a.createElement("summary",null,"Welcome to Writer\u2019s Block! Select this to view instructions below:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Search for an image. "),r.a.createElement("li",null,"Select the image you want from the image section below - you will need to scroll through them. "),r.a.createElement("li",null,"Enter in some text to go along with the image."),r.a.createElement("li",null,"Click submit button and there you go! The story has began"),r.a.createElement("li",null,"Please note: you can only submit one image + text at a time, the page will need to be refreshed and process repeated for any further ones. We are working on a login page so users can save their items.")))},x=function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 565 470.54"},r.a.createElement("title",null,"Bookshelf svg"),r.a.createElement("g",{className:"shelf bookOne",id:"shelf bookOne","data-name":"Layer 1"},r.a.createElement("rect",{x:"130",width:"77",height:"359",rx:"21.32",fill:"#ed6a5a"}),r.a.createElement("path",{d:"M694.5,681.5",transform:"translate(-535 -225)",fill:"#fff"}),r.a.createElement("path",{d:"M694.5,681.5",transform:"translate(-535 -225)",fill:"#fff"}),r.a.createElement("path",{d:"M696,300.5a16.5,16.5,0,0,1,0-33h16a16.5,16.5,0,0,1,0,33Z",transform:"translate(-535 -225)",fill:"#ce665d"}),r.a.createElement("path",{d:"M712,268a16,16,0,0,1,0,32H696a16,16,0,0,1,0-32h16m0-1H696a17,17,0,0,0-17,17h0a17,17,0,0,0,17,17h16a17,17,0,0,0,17-17h0a17,17,0,0,0-17-17Z",transform:"translate(-535 -225)",fill:"#fff"}),r.a.createElement("path",{d:"M696,342.5a16.5,16.5,0,0,1,0-33h16a16.5,16.5,0,0,1,0,33Z",transform:"translate(-535 -225)",fill:"#ce665d"}),r.a.createElement("path",{d:"M712,310a16,16,0,0,1,0,32H696a16,16,0,0,1,0-32h16m0-1H696a17,17,0,0,0-17,17h0a17,17,0,0,0,17,17h16a17,17,0,0,0,17-17h0a17,17,0,0,0-17-17Z",transform:"translate(-535 -225)",fill:"#fff"})),r.a.createElement("g",{className:"shelf bookTwo",id:"shelf bookTwo","data-name":"Layer 6"},r.a.createElement("rect",{x:"207",y:"73",width:"87",height:"283",rx:"21.32",fill:"#d0b8ac"}),r.a.createElement("path",{d:"M785.5,380.5a20,20,0,1,1,20-20A20,20,0,0,1,785.5,380.5Z",transform:"translate(-535 -225)",fill:"#d0b8ac"}),r.a.createElement("path",{d:"M785.5,341A19.5,19.5,0,1,1,766,360.5,19.53,19.53,0,0,1,785.5,341m0-1A20.5,20.5,0,1,0,806,360.5,20.5,20.5,0,0,0,785.5,340Z",transform:"translate(-535 -225)",fill:"#fff"})),r.a.createElement("g",{className:"shelf bookThree",id:"shelf bookThree","data-name":"Layer 5"},r.a.createElement("rect",{x:"372",y:"5",width:"78",height:"354",rx:"21.32",fill:"#c19ab7"}),r.a.createElement("path",{d:"M946,327.5A16.52,16.52,0,0,1,929.5,311V286a16.5,16.5,0,0,1,33,0v25A16.52,16.52,0,0,1,946,327.5Z",transform:"translate(-535 -225)",fill:"#c19ab7"}),r.a.createElement("path",{d:"M946,270a16,16,0,0,1,16,16v25a16,16,0,0,1-32,0V286a16,16,0,0,1,16-16m0-1h0a17,17,0,0,0-17,17v25a17,17,0,0,0,17,17h0a17,17,0,0,0,17-17V286a17,17,0,0,0-17-17Z",transform:"translate(-535 -225)",fill:"#fff"})),r.a.createElement("g",{className:"shelf bookFour",id:"shelf bookFour","data-name":"Layer 4"},r.a.createElement("rect",{x:"294",y:"33",width:"78",height:"324",rx:"21.32",fill:"#ccddd3"}),r.a.createElement("path",{d:"M868.5,360.5a20,20,0,1,1,20-20A20,20,0,0,1,868.5,360.5Z",transform:"translate(-535 -225)",fill:"#ccddd3"}),r.a.createElement("path",{d:"M868.5,321A19.5,19.5,0,1,1,849,340.5,19.53,19.53,0,0,1,868.5,321m0-1A20.5,20.5,0,1,0,889,340.5,20.5,20.5,0,0,0,868.5,320Z",transform:"translate(-535 -225)",fill:"#fff"})),r.a.createElement("g",{className:"bookshelf",id:"bookshelf","data-name":"Layer 3"},r.a.createElement("path",{d:"M535,638.88V588.12A16.12,16.12,0,0,1,551.12,572h532.76A16.12,16.12,0,0,1,1100,588.12v50.76A16.12,16.12,0,0,1,1083.88,655H551.12C550,655,544.33,654.89,535,638.88Z",transform:"translate(-535 -225)",fill:"#644536"})),r.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},r.a.createElement("path",{d:"M654.5,655.5c-1.79,24.22,16.22,41,30,40,12.94-.92,27.42-17.87,25-40",transform:"translate(-535 -225)",fill:"#644536"}),r.a.createElement("path",{d:"M927.26,655.49c-1.78,24.21,16.23,41,30,40,12.94-.93,27.42-17.87,25-40",transform:"translate(-535 -225)",fill:"#644536"})))},I=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"#".concat(e.id)},r.a.createElement("img",{alt:e.alt,src:e.storedImg})))},A=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).handleChange=function(){e.setState({imageToAppend:document.querySelector('input[name="radio"]:checked').value,idOfImage:document.querySelector('input[name="radio"]:checked').id,altText:document.querySelector('input[name="radio"]:checked').alt})},e.handleChangeInput=function(a){e.setState({userInput:a.target.value})},e.handleSearchImages=function(a){e.setState({inputToSearch:a.target.value})},e.handleSubmitSearch=function(a){if(a.preventDefault(),""!==e.state.inputToSearch){g()({async:!0,crossDomain:!0,url:"https://api.unsplash.com/search/photos/?client_id=851ca0e417e4da7927bb7094b0bb790d78758e507f353acd3aaa66d2e6e48462&query=".concat(e.state.inputToSearch),method:"GET",params:{per_page:20}}).then((function(a){e.setState({data:a.data.results})})).catch((function(e){alert(e)})),e.setState({inputToSearch:""})}else alert("Enter in a search term to continue!")},e.handleSubmit=function(a){a.preventDefault(),""!==e.state.userInput?""!==e.state.imageToAppend&&(e.state.dbRefText.push(e.state.userInput),e.state.dbRefImages.push(e.state.imageToAppend),e.state.dbRefAlt.push(e.state.altText),e.setState({userInput:""})):alert("Select an image and enter in text to continue!")},e.state={apiKey:"851ca0e417e4da7927bb7094b0bb790d78758e507f353acd3aaa66d2e6e48462",apiUrl:"https://api.unsplash.com",data:[],mappedArray:[],imageArray:[],textArray:[],altArray:[],imageToAppend:"",userInput:"",inputToSearch:"",mappedDbref:"",textToAppend:"",isButtonDisabled:!1,altText:"",dbRefImages:u.a.database().ref("/images"),dbRefText:u.a.database().ref("/text"),dbRefAlt:u.a.database().ref("/alt")},e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;g()({async:!0,crossDomain:!0,url:"".concat(this.state.apiUrl,"/photos/?client_id=").concat(this.state.apiKey),method:"GET",params:{per_page:20,order_by:"popular"}}).then((function(a){e.setState({data:a.data})})).catch((function(e){alert(e)})),this.state.dbRefImages.on("value",(function(a){var t=a.val(),n=[];for(var r in t){var l={imageId:r,imageUrl:t[r]};n.push(l)}e.setState({imageArray:n})})),this.state.dbRefText.on("value",(function(a){var t=a.val(),n=[];for(var r in t){var l={storyId:r,storyText:t[r]};n.push(l)}e.setState({textArray:n})})),this.state.dbRefAlt.on("value",(function(a){var t=a.val(),n=[];for(var r in t){var l={altId:r,altText:t[r]};n.push(l)}e.setState({altArray:n})}))}},{key:"render",value:function(){var e=this,a=this.state.imageArray.map((function(e,a){return r.a.createElement(E,{storedImg:e.imageUrl,id:e.imageId,key:a})})),t=(this.state.imageArray.map((function(e,a){return r.a.createElement(I,{storedImg:e.imageUrl,id:e.imageId,key:a})})),this.state.textArray.map((function(e,a){return r.a.createElement(v,{storedText:e.storyText,storedTextId:e.storyId,key:a})}))),n=this.state.data.map((function(a,t){return r.a.createElement(b,{previewImg:a.urls.small,linkToPage:a.links.html,indexKey:t,alt:a.alt_description,appendImages:e.handleChange})}));return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header-section"},r.a.createElement("div",{className:"innerHeader"},r.a.createElement("h1",null,"Writer's Block"),r.a.createElement(x,null))),r.a.createElement(S,null),r.a.createElement(y,{inputToSearch:this.state.inputToSearch,handleSearchImages:this.handleSearchImages,handleSubmitSearch:this.handleSubmitSearch}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"imageSection"},r.a.createElement("section",null,r.a.createElement("div",{className:"imageContainer"},n))),r.a.createElement("div",{className:"userInputSection"},r.a.createElement("textarea",{onChange:this.handleChangeInput,placeholder:"Start writing your story here! For example: You hear a knock on the door. You open it and you see a white haired man dressed like a wizard on your porch, in the middle of July. He says his name is Albus Dumbledore and he's come to take your daughter to a boarding school for witches and wizards.",maxLength:"500",value:this.state.userInput}),r.a.createElement("button",{disabled:this.state.isButtonDisabled,type:"submit"},"Submit text here"))),r.a.createElement("div",{className:"splitSection clearfix"},r.a.createElement("div",{className:"imageSplit"},a),r.a.createElement("div",{className:"textSplit"},t)))}}]),a}(n.Component),k=function(e){return r.a.createElement("div",{className:"footer-section"},r.a.createElement("p",null,"\xa9 2020 Designed and Coded by Hira Ahsan "))},w=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).state={dbRef:f.database().ref()},e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App wrapper"},r.a.createElement(A,null),r.a.createElement(k,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.1fbfbbe0.chunk.js.map