(this["webpackJsonphira-ahsan-project-five"]=this["webpackJsonphira-ahsan-project-five"]||[]).push([[0],{24:function(e,t,a){e.exports=a(50)},29:function(e,t,a){},33:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),s=a.n(i),o=(a(29),a(3)),c=a(4),l=a(6),u=a(5),m=a(7),d=a(2),p=a.n(d);a(31);p.a.initializeApp({apiKey:"AIzaSyAyf12FdGTgypQ0Ae48KszC61cViIsSRAU",authDomain:"project-five-tests.firebaseapp.com",databaseURL:"https://project-five-tests.firebaseio.com",projectId:"project-five-tests",storageBucket:"project-five-tests.appspot.com",messagingSenderId:"909191868794",appId:"1:909191868794:web:1046029a4765b1b69566c3"});var h=p.a,f=(a(33),a(9)),g=a.n(f),b=function(e){return r.a.createElement("div",{className:"miniContainers"},r.a.createElement("input",{type:"radio",name:"radio",id:e.indexKey,value:e.previewImg,onChange:function(){return e.appendImages(e.handleChange)}}),r.a.createElement("label",{htmlFor:e.indexKey},r.a.createElement("img",{src:e.previewImg,alt:e.alt})),r.a.createElement("a",{href:e.linkToPage},"Link to full size"))},v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("img",{id:e.id,src:e.storedImg}),r.a.createElement("p",{id:e.storedTextId},e.storedText)))},S=function(e){return r.a.createElement(r.a.Fragment,null)},E=function(e){return r.a.createElement("div",{className:"header-section"},r.a.createElement("div",{className:"oneThirdSection"}),r.a.createElement("div",{className:"theRest"},r.a.createElement("header",null,r.a.createElement("h1",null,"Writer's Block"))))},y=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmitSearch},r.a.createElement("input",{onChange:e.handleSearchImages,type:"text"}),r.a.createElement("button",{type:"submit"},"Search for images"))},I=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleChange=function(){e.setState({imageToAppend:document.querySelector('input[name="radio"]:checked').value})},e.handleSubmitImage=function(t){t.preventDefault(),e.setState({isButtonDisabled:!0})},e.handleChangeInput=function(t){e.setState({userInput:t.target.value})},e.handleSearchImages=function(t){e.setState({inputToSearch:t.target.value})},e.handleSubmitSearch=function(t){t.preventDefault(),e.setState({q:e.state.inputToSearch});g.a.get("".concat(e.state.apiUrl,"/?key=").concat(e.state.apiKey,"&q=").concat(e.state.q)).then((function(t){e.setState({data:t.data.hits}),e.setState({mappedArray:e.state.data.map((function(e){return e.previewURL}))})}))},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.userInput?""!==e.state.imageToAppend&&(console.log("input has registed"),e.state.dbRefText.push(e.state.userInput),e.state.dbRefImages.push(e.state.imageToAppend),e.setState({isButtonDisabled:!0})):console.log("this did not work")},e.state={q:"",data:[],mappedArray:[],imageArray:[],textArray:[],runApi:[],imageToAppend:"",userInput:"",inputToSearch:"",mappedDbref:"",isButtonDisabled:!1,dbRefImages:p.a.database().ref("/images"),dbRefText:p.a.database().ref("/text")},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;g()({async:!0,crossDomain:!0,url:"https://api.unsplash.com/photos/?client_id=851ca0e417e4da7927bb7094b0bb790d78758e507f353acd3aaa66d2e6e48462",method:"GET",params:{per_page:20,order_by:"popular"}}).then((function(t){console.log(t),e.setState({data:t.data})})),this.state.dbRefImages.on("value",(function(t){var a=t.val(),n=[];for(var r in a){var i={imageId:r,imageUrl:a[r]};n.push(i)}e.setState({imageArray:n})})),this.state.dbRefText.on("value",(function(t){var a=t.val(),n=[];for(var r in a){var i={storyId:r,storyText:a[r]};n.push(i)}e.setState({textArray:n})}))}},{key:"render",value:function(){var e=this,t=this.state.imageArray.map((function(e,t){return r.a.createElement(v,{storedImg:e.imageUrl,id:e.imageId,key:t})})),a=this.state.textArray.map((function(e,t){return r.a.createElement(S,{storedText:e.storyText,storedTextId:e.storyId,key:t})})),n=this.state.data.map((function(t,a){return r.a.createElement(b,{previewImg:t.urls.thumb,linkToPage:t.pageURL,indexKey:a,alt:t.alt_description,appendImages:e.handleChange})}));return r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(y,{handleSearchImages:this.handleSearchImages,handleSubmitSearch:this.handleSubmitSearch}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"imageSection"},r.a.createElement("section",null,r.a.createElement("div",{className:"imageContainer"},n))),r.a.createElement("textarea",{onChange:this.handleChangeInput,name:"",id:""}),r.a.createElement("button",{disabled:this.isButtonDisabled,type:"submit"},"Submit text here")),r.a.createElement("div",{className:"splitSection clearfix"},t,a),r.a.createElement(S,null))}}]),t}(n.Component),x=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={dbRef:h.database().ref()},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App wrapper"},r.a.createElement(I,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.f307786e.chunk.js.map